(function(e,t){typeof define=="function"&&define.amd?define("smoothScroll",t(e)):typeof exports=="object"?module.smoothScroll=t(e):e.smoothScroll=t(e)})(this,function(e){"use strict";var t={},n=!!document.querySelector&&!!e.addEventListener,r,i={speed:500,easing:"easeInOutCubic",offset:0,updateURL:!1,callbackBefore:function(){},callbackAfter:function(){}},s=function(e,t,n){if(Object.prototype.toString.call(e)==="[object Object]")for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(n,e[r],r,e);else for(var i=0,s=e.length;i<s;i++)t.call(n,e[i],i,e)},o=function(e,t){var n={};return s(e,function(t,r){n[r]=e[r]}),s(t,function(e,r){n[r]=t[r]}),n},u=function(e,t){var n;return e==="easeInQuad"&&(n=t*t),e==="easeOutQuad"&&(n=t*(2-t)),e==="easeInOutQuad"&&(n=t<.5?2*t*t:-1+(4-2*t)*t),e==="easeInCubic"&&(n=t*t*t),e==="easeOutCubic"&&(n=--t*t*t+1),e==="easeInOutCubic"&&(n=t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),e==="easeInQuart"&&(n=t*t*t*t),e==="easeOutQuart"&&(n=1- --t*t*t*t),e==="easeInOutQuart"&&(n=t<.5?8*t*t*t*t:1-8*--t*t*t*t),e==="easeInQuint"&&(n=t*t*t*t*t),e==="easeOutQuint"&&(n=1+ --t*t*t*t*t),e==="easeInOutQuint"&&(n=t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},a=function(e,t,n){var r=0;if(e.offsetParent)do r+=e.offsetTop,e=e.offsetParent;while(e);return r=r-t-n,r>=0?r:0},f=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},l=function(e){return e.replace(/^\s+|\s+$/g,"")},c=function(e){var t={};return e&&(e=e.split(";"),e.forEach(function(e){e=l(e),e!==""&&(e=e.split(":"),t[e[0]]=l(e[1]))})),t},h=function(e,t){history.pushState&&(t||t==="true")&&history.pushState({pos:e.id},"",e)};return t.animateScroll=function(t,n,r,s){var l=o(l||i,r||{}),p=c(t?t.getAttribute("data-options"):null);l=o(l,p);var d=document.querySelector("[data-scroll-header]"),v=d===null?0:d.offsetHeight+d.offsetTop,m=e.pageYOffset,g=a(document.querySelector(n),v,parseInt(l.offset,10)),y,b=g-m,w=f(),E=0,S,x;t&&t.tagName.toLowerCase()==="a"&&s&&s.preventDefault(),h(n,l.updateURL);var T=function(r,i,s){var o=e.pageYOffset;if(r==i||o==i||e.innerHeight+o>=w)clearInterval(s),l.callbackAfter(t,n)},N=function(){E+=16,S=E/parseInt(l.speed,10),S=S>1?1:S,x=m+b*u(l.easing,S),e.scrollTo(0,Math.floor(x)),T(x,g,y)},C=function(){l.callbackBefore(t,n),y=setInterval(N,16)};e.pageYOffset===0&&e.scrollTo(0,0),C()},t.init=function(e){if(!n)return;r=o(i,e||{});var u=document.querySelectorAll("[data-scroll]");s(u,function(e){e.addEventListener("click",t.animateScroll.bind(null,e,e.hash,r),!1)})},t});